

  <div class="rules" *ngIf="!isLoading && (!posts || posts?.length == 0 || posts[0]?.author?.firstname == null)" >

    <h1 id="lefeed" >Le feed</h1>

    <div>
      Tu dois créer un route pour récupérer le feed de ce nouveau réseau social !!
    </div>

    <div>
      Un GET sur http://localhost:8080/posts devra renvoyer quelque chose comme ça:
    </div>

    <pre>
      <code [innerHTML]="code1" >
      </code>
    </pre>

  </div>

<div  class="error-bloc" *ngIf="!isLoading && posts === undefined" >
  Je n'ai rien pu récupérer sur la route: http://localhost:8080/posts
</div>

<div class="error-bloc"  *ngIf="!isLoading && posts?.length === 0" >
  Le tableau de données est vide
</div>


<div class="error-bloc"  *ngIf="!isLoading && posts?.length > 0 && posts[0]?.author == null" >
  Certain post ne semble pas avoir d'auteur, un pb de jointure ?
</div>

<div id="main-feed">
  <mat-card class="example-card" *ngFor="let post of posts" >
    <mat-card-header *ngIf="post?.author" >
    <img mat-card-avatar [src]="post.author.imageUrl" >
    <mat-card-title> {{post.author.firstname + ' ' + post.author.lastname }} </mat-card-title>
  </mat-card-header>
  <img mat-card-image [src]="post.imageUrl" alt="Post photo">
  <mat-card-content>
    <p>
      {{post.message}}
    </p>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button>LIKE</button>
    <button mat-button>SHARE</button>
  </mat-card-actions>
</mat-card>
</div>


